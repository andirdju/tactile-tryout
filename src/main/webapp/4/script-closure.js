var c=5,d=tactile.EventManager,f=[""],g=[1,1,1,1,0,-1,-1,-1,-1],i=!0;function j(){i=!0}function k(){for(var a=1;9>=a;a++)if(5!=a)if(tactile.page.getComponent(f[a]).colVal=a,5>a)tactile.page.getComponent(f[a]).typeVal=1;else if(5<a)tactile.page.getComponent(f[a]).typeVal=-1}
function l(){d.addListener(f[1],tactile.Enum.Events.touchend,function(a){m(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent(f[1]),a)});d.addListener(f[2],tactile.Enum.Events.touchend,function(a){m(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent(f[2]),a)});d.addListener(f[3],tactile.Enum.Events.touchend,function(a){m(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent(f[3]),a)});d.addListener(f[4],
tactile.Enum.Events.touchend,function(a){m(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent(f[4]),a)});d.addListener(f[6],tactile.Enum.Events.touchend,function(a){m(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent(f[6]),a)});d.addListener(f[7],tactile.Enum.Events.touchend,function(a){m(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent(f[7]),a)});d.addListener(f[8],tactile.Enum.Events.touchend,function(a){m(tactile.page.getComponent("lay-main").getInnerBox().width,
tactile.page.getComponent(f[8]),a)});d.addListener(f[9],tactile.Enum.Events.touchend,function(a){m(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent(f[9]),a)});d.addListener("lay-root",tactile.Enum.Events.doubletap,function(){var a=tactile.page.getComponent("lay-main").getInnerBox().width;k();for(var b=1;9>=b;b++)if(5!=b){var e=tactile.page.getComponent(f[b]),h=b;e.effect.move({slidedir:tactile.effects.Direction.horizontal,to:Math.round(0.1*a)+Math.round(0.8*a/9)*
(h-1)});e.colVal=h}n()});d.addResizeListener(function(){k();n()})}function n(){c=5;g=[1,1,1,1,0,-1,-1,-1,-1]}
function m(a,b,e){if(i&&(1==b.typeVal&&(1==c-b.colVal||2==c-b.colVal&&-1==g[b.colVal])||-1==b.typeVal&&(-1==c-b.colVal||-2==c-b.colVal&&1==g[b.colVal-2]))){var h;h=1==b.typeVal?tactile.Enum.Direction.east:-1==b.typeVal?tactile.Enum.Direction.west:void 0;if(Math.abs(e.deltaX)>Math.abs(e.deltaY)&&(h==tactile.Enum.Direction.west&&0>e.deltaX||h==tactile.Enum.Direction.east&&0<e.deltaX))i=!1,e=b.colVal,b.colVal=c,c=e,g[b.colVal-1]=b.typeVal,g[c-1]=0,(h==tactile.Enum.Direction.west||h==tactile.Enum.Direction.east)&&
b.effect.move({slidedir:tactile.effects.Direction.horizontal,to:Math.round(0.1*a)+Math.round(0.8*a/9)*(b.colVal-1)}),setTimeout(j,1E3)}}tactile.page.onready(function(){for(var a=1;9>=a;a++)f[a]="box-"+a;k();l()});