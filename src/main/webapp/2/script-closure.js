var h=tactile.EventManager,i=3,k=3,l=!0;function n(){l=!0}
function o(){h.addListener("box-1-1",tactile.Enum.Events.touchend,function(a){p(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent("lay-main").getInnerBox().height,1,1,a)});h.addListener("box-1-2",tactile.Enum.Events.touchend,function(a){p(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent("lay-main").getInnerBox().height,1,2,a)});h.addListener("box-1-3",tactile.Enum.Events.touchend,function(a){p(tactile.page.getComponent("lay-main").getInnerBox().width,
tactile.page.getComponent("lay-main").getInnerBox().height,1,3,a)});h.addListener("box-2-1",tactile.Enum.Events.touchend,function(a){p(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent("lay-main").getInnerBox().height,2,1,a)});h.addListener("box-2-2",tactile.Enum.Events.touchend,function(a){p(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent("lay-main").getInnerBox().height,2,2,a)});h.addListener("box-2-3",tactile.Enum.Events.touchend,
function(a){p(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent("lay-main").getInnerBox().height,2,3,a)});h.addListener("box-3-1",tactile.Enum.Events.touchend,function(a){p(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent("lay-main").getInnerBox().height,3,1,a)});h.addListener("box-3-2",tactile.Enum.Events.touchend,function(a){p(tactile.page.getComponent("lay-main").getInnerBox().width,tactile.page.getComponent("lay-main").getInnerBox().height,
3,2,a)});h.addListener("lay-root",tactile.Enum.Events.doubletap,function(){for(var a=tactile.page.getComponent("lay-main").getInnerBox().width,d=tactile.page.getComponent("lay-main").getInnerBox().height,b=1;3>=b;b++)for(var c=1;3>=c;c++)if(!(3==b&&3==c)){var e=tactile.page.getComponent("box-"+b+"-"+c);q(a,d,e,b,c)}k=i=3});h.addResizeListener(function(){for(var a=1;3>=a;a++)for(var d=1;3>=d;d++)if(!(3==a&&3==d)){var b=tactile.page.getComponent("box-"+a+"-"+d);b.rowVal=a;b.colVal=d}k=i=3})}
function q(a,d,b,c,e){b.effect.move({slidedir:tactile.effects.Direction.horizontal,to:Math.round(0.1*a)+Math.round(0.8*a/3)*(e-1)});setTimeout(function(){b.effect.move({slidedir:tactile.effects.Direction.vertical,to:Math.round(0.1*d)+Math.round(0.8*d/3)*(c-1)})},1E3);b.rowVal=c;b.colVal=e}
function p(a,d,b,c,e){if(l){var b=tactile.page.getComponent("box-"+b+"-"+c),c=b.rowVal,f=b.colVal,g=i,j=k,m=Math.abs(j-f),r=Math.abs(g-c);if(g==c&&1==m||j==f&&1==r)if(c=b.rowVal,f=b.colVal,g=i,j=k,m=null,g==c?m=j>f?tactile.Enum.Direction.west:tactile.Enum.Direction.east:j==f&&(m=g>c?tactile.Enum.Direction.north:tactile.Enum.Direction.south),c=m,f=Math.abs(e.deltaX),g=Math.abs(e.deltaY),c==tactile.Enum.Direction.west&&0<e.deltaX&&f>g||c==tactile.Enum.Direction.east&&0>e.deltaX&&f>g||c==tactile.Enum.Direction.north&&
0<e.deltaY&&f<g||c==tactile.Enum.Direction.south&&0>e.deltaY&&f<g)l=!1,e=i,f=k,g=b.colVal,j=b.rowVal,b.rowVal=e,b.colVal=f,i=j,k=g,c==tactile.Enum.Direction.west||c==tactile.Enum.Direction.east?b.effect.move({slidedir:tactile.effects.Direction.horizontal,to:Math.round(0.1*a)+Math.round(0.8*a/3)*(f-1)}):(c==tactile.Enum.Direction.north||c==tactile.Enum.Direction.south)&&b.effect.move({slidedir:tactile.effects.Direction.vertical,to:Math.round(0.1*d)+Math.round(0.8*d/3)*(e-1)}),setTimeout(n,1E3)}}
tactile.page.onready(function(){for(var a=1;3>=a;a++)for(var d=1;3>=d;d++)if(!(3==a&&3==d)){var b=tactile.page.getComponent("box-"+a+"-"+d);b.rowVal=a;b.colVal=d}o()});